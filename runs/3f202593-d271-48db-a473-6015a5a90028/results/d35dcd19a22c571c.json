{
  "arch_hash": "d35dcd19a22c571c",
  "run_id": "3f202593-d271-48db-a473-6015a5a90028",
  "status": "FAILED",
  "started_at": "2026-01-15T09:11:44.241519",
  "completed_at": "2026-01-15T09:11:55.785012",
  "duration_seconds": 11.543495,
  "terraform_apply": {
    "success": false,
    "resources_created": 0,
    "outputs": {},
    "logs": "Apply failed:\nSTDOUT: \u001b[33m\u2577\u001b[0m\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[33mWarning: \u001b[0m\u001b[0m\u001b[1mDeprecated attribute\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 56, in resource \"aws_kms_key\" \"wafkey\":\n\u001b[33m\u2502\u001b[0m \u001b[0m  56:       \"Principal\": { \"Service\": \"logs.${data.aws_region.current\u001b[4m.name\u001b[0m}.amazonaws.com\" },\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0mThe attribute \"name\" is deprecated. Refer to the provider documentation for\n\u001b[33m\u2502\u001b[0m \u001b[0mdetails.\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m(and 70 more similar warnings elsewhere)\n\u001b[33m\u2575\u001b[0m\u001b[0m\n\u001b[33m\u2577\u001b[0m\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[33mWarning: \u001b[0m\u001b[0m\u001b[1mArgument is deprecated\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\u001b[0m  with aws_s3_bucket.WafLogBucket,\n\u001b[33m\u2502\u001b[0m \u001b[0m  on main.tf line 141, in resource \"aws_s3_bucket\" \"WafLogBucket\":\n\u001b[33m\u2502\u001b[0m \u001b[0m 141: resource \"aws_s3_bucket\" \"WafLogBucket\" \u001b[4m{\u001b[0m\u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0mversioning is deprecated. Use the aws_s3_bucket_versioning resource\n\u001b[33m\u2502\u001b[0m \u001b[0minstead.\n\u001b[33m\u2502\u001b[0m \u001b[0m\n\u001b[33m\u2502\u001b[0m \u001b[0m(and 8 more similar warnings elsewhere)\n\u001b[33m\u2575\u001b[0m\u001b[0m\n::error::Terraform exited with code 1.\n\nSTDERR: \u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mReference to undeclared resource\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 3282, in locals:\n\u001b[31m\u2502\u001b[0m \u001b[0m3282:   GlueAccessLogsDatabase        = length(\u001b[4maws_glue_catalog_database.mydatabase\u001b[0m) != 0 ? \"${aws_glue_catalog_database.mydatabase[0].name}\" : \"0\"\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mA managed resource \"aws_glue_catalog_database\" \"mydatabase\" has not been\n\u001b[31m\u2502\u001b[0m \u001b[0mdeclared in the root module.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mReference to undeclared resource\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 3282, in locals:\n\u001b[31m\u2502\u001b[0m \u001b[0m3282:   GlueAccessLogsDatabase        = length(aws_glue_catalog_database.mydatabase) != 0 ? \"${\u001b[4maws_glue_catalog_database.mydatabase[0]\u001b[0m.name}\" : \"0\"\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mA managed resource \"aws_glue_catalog_database\" \"mydatabase\" has not been\n\u001b[31m\u2502\u001b[0m \u001b[0mdeclared in the root module.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mUnsupported argument\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 4123, in resource \"aws_kinesis_firehose_delivery_stream\" \"extended_s3_stream\":\n\u001b[31m\u2502\u001b[0m \u001b[0m4123:     \u001b[4mbuffer_size\u001b[0m         = 5\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mAn argument named \"buffer_size\" is not expected here.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mUnsupported argument\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 4124, in resource \"aws_kinesis_firehose_delivery_stream\" \"extended_s3_stream\":\n\u001b[31m\u2502\u001b[0m \u001b[0m4124:     \u001b[4mbuffer_interval\u001b[0m     = 300\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mAn argument named \"buffer_interval\" is not expected here.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mReference to undeclared resource\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 4138, in resource \"aws_glue_catalog_table\" \"waf_access_logs_table\":\n\u001b[31m\u2502\u001b[0m \u001b[0m4138:   database_name = \u001b[4maws_glue_catalog_database.mydatabase[0]\u001b[0m.name\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mA managed resource \"aws_glue_catalog_database\" \"mydatabase\" has not been\n\u001b[31m\u2502\u001b[0m \u001b[0mdeclared in the root module.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mReference to undeclared resource\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 4188, in resource \"aws_glue_catalog_table\" \"ALBGlueAppAccessLogsTable\":\n\u001b[31m\u2502\u001b[0m \u001b[0m4188:   database_name = \u001b[4maws_glue_catalog_database.mydatabase[0]\u001b[0m.name\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mA managed resource \"aws_glue_catalog_database\" \"mydatabase\" has not been\n\u001b[31m\u2502\u001b[0m \u001b[0mdeclared in the root module.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n\u001b[31m\u2577\u001b[0m\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[1m\u001b[31mError: \u001b[0m\u001b[0m\u001b[1mReference to undeclared resource\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\u001b[0m  on main.tf line 4237, in resource \"aws_glue_catalog_table\" \"cloudfrontGlueAppAccessLogsTable\":\n\u001b[31m\u2502\u001b[0m \u001b[0m4237:   database_name = \u001b[4maws_glue_catalog_database.mydatabase[0]\u001b[0m.name\u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0m\n\u001b[31m\u2502\u001b[0m \u001b[0mA managed resource \"aws_glue_catalog_database\" \"mydatabase\" has not been\n\u001b[31m\u2502\u001b[0m \u001b[0mdeclared in the root module.\n\u001b[31m\u2575\u001b[0m\u001b[0m\n"
  },
  "pytest_results": null,
  "container_logs": "\nLocalStack version: 4.12.1.dev68\nLocalStack build date: 2026-01-15\nLocalStack build git hash: ccc4a3ec8\n\n2026-01-15T09:11:45.326  WARN --- [  MainThread] localstack.deprecations    : LAMBDA_EXECUTOR is deprecated (since 2.0.0) and will be removed in upcoming releases of LocalStack! This configuration is obsolete with the new lambda provider https://docs.localstack.cloud/user-guide/aws/lambda/#migrating-to-lambda-v2\nPlease mount the Docker socket /var/run/docker.sock as a volume when starting LocalStack.\nReady.\n",
  "error_message": null
}