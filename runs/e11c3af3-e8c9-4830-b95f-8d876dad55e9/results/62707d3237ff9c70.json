{
  "arch_hash": "62707d3237ff9c70",
  "run_id": "e11c3af3-e8c9-4830-b95f-8d876dad55e9",
  "status": "PASSED",
  "started_at": "2026-01-15T15:15:48.313710",
  "completed_at": "2026-01-15T15:16:31.678182",
  "duration_seconds": 43.364475,
  "terraform_apply": {
    "success": true,
    "resources_created": 5,
    "outputs": {},
    "logs": "\u001b[0m\u001b[1mdata.archive_file.lambda_zip_file: Reading...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1mdata.archive_file.lambda_zip_file: Read complete after 0s [id=b6014d37ac447a0689cef34ed47f740e57ba0381]\u001b[0m\n\nTerraform used the selected providers to generate the following execution\nplan. Resource actions are indicated with the following symbols:\n  \u001b[32m+\u001b[0m create\u001b[0m\n\nTerraform will perform the following actions:\n\n\u001b[1m  # aws_dynamodb_table.dynamodb_table_users\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_dynamodb_table\" \"dynamodb_table_users\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn              = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m billing_mode     = \"PROVISIONED\"\n      \u001b[32m+\u001b[0m\u001b[0m hash_key         = \"UserId\"\n      \u001b[32m+\u001b[0m\u001b[0m id               = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m name             = \"UsersIds\"\n      \u001b[32m+\u001b[0m\u001b[0m read_capacity    = 5\n      \u001b[32m+\u001b[0m\u001b[0m region           = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m stream_arn       = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m stream_enabled   = true\n      \u001b[32m+\u001b[0m\u001b[0m stream_label     = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m stream_view_type = \"NEW_AND_OLD_IMAGES\"\n      \u001b[32m+\u001b[0m\u001b[0m tags             = {\n          \u001b[32m+\u001b[0m\u001b[0m \"Environment\" = \"dev\"\n          \u001b[32m+\u001b[0m\u001b[0m \"Name\"        = \"dynamodb-test-table\"\n        }\n      \u001b[32m+\u001b[0m\u001b[0m tags_all         = {\n          \u001b[32m+\u001b[0m\u001b[0m \"Environment\" = \"dev\"\n          \u001b[32m+\u001b[0m\u001b[0m \"Name\"        = \"dynamodb-test-table\"\n        }\n      \u001b[32m+\u001b[0m\u001b[0m write_capacity   = 5\n\n      \u001b[32m+\u001b[0m\u001b[0m attribute {\n          \u001b[32m+\u001b[0m\u001b[0m name = \"UserId\"\n          \u001b[32m+\u001b[0m\u001b[0m type = \"S\"\n        }\n    }\n\n\u001b[1m  # aws_iam_role.iam_for_lambda\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_iam_role\" \"iam_for_lambda\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn                   = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m assume_role_policy    = jsonencode(\n            {\n              \u001b[32m+\u001b[0m\u001b[0m Statement = [\n                  \u001b[32m+\u001b[0m\u001b[0m {\n                      \u001b[32m+\u001b[0m\u001b[0m Action    = \"sts:AssumeRole\"\n                      \u001b[32m+\u001b[0m\u001b[0m Effect    = \"Allow\"\n                      \u001b[32m+\u001b[0m\u001b[0m Principal = {\n                          \u001b[32m+\u001b[0m\u001b[0m Service = \"lambda.amazonaws.com\"\n                        }\n                      \u001b[32m+\u001b[0m\u001b[0m Sid       = \"\"\n                    },\n                ]\n              \u001b[32m+\u001b[0m\u001b[0m Version   = \"2012-10-17\"\n            }\n        )\n      \u001b[32m+\u001b[0m\u001b[0m create_date           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m force_detach_policies = false\n      \u001b[32m+\u001b[0m\u001b[0m id                    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m managed_policy_arns   = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m max_session_duration  = 3600\n      \u001b[32m+\u001b[0m\u001b[0m name                  = \"iam_for_lambda\"\n      \u001b[32m+\u001b[0m\u001b[0m name_prefix           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m path                  = \"/\"\n      \u001b[32m+\u001b[0m\u001b[0m tags_all              = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m unique_id             = (known after apply)\n    }\n\n\u001b[1m  # aws_iam_role_policy.dynamodb_lambda_policy\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_iam_role_policy\" \"dynamodb_lambda_policy\" {\n      \u001b[32m+\u001b[0m\u001b[0m id          = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m name        = \"lambda-dynamodb-policy\"\n      \u001b[32m+\u001b[0m\u001b[0m name_prefix = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m policy      = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m role        = (known after apply)\n    }\n\n\u001b[1m  # aws_lambda_event_source_mapping.lambda_dynamodb\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_lambda_event_source_mapping\" \"lambda_dynamodb\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn                           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m enabled                       = true\n      \u001b[32m+\u001b[0m\u001b[0m event_source_arn              = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m function_arn                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m function_name                 = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m id                            = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m last_modified                 = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m last_processing_result        = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m maximum_record_age_in_seconds = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m maximum_retry_attempts        = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m parallelization_factor        = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m region                        = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m starting_position             = \"LATEST\"\n      \u001b[32m+\u001b[0m\u001b[0m state                         = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m state_transition_reason       = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m tags_all                      = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m uuid                          = (known after apply)\n    }\n\n\u001b[1m  # aws_lambda_function.lambda_dynamodb_stream_handler\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_lambda_function\" \"lambda_dynamodb_stream_handler\" {\n      \u001b[32m+\u001b[0m\u001b[0m architectures                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m arn                            = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m code_sha256                    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m filename                       = \"./lambda.zip\"\n      \u001b[32m+\u001b[0m\u001b[0m function_name                  = \"process-usersids-records\"\n      \u001b[32m+\u001b[0m\u001b[0m handler                        = \"index.handler\"\n      \u001b[32m+\u001b[0m\u001b[0m id                             = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m invoke_arn                     = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m last_modified                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m memory_size                    = 128\n      \u001b[32m+\u001b[0m\u001b[0m package_type                   = \"Zip\"\n      \u001b[32m+\u001b[0m\u001b[0m publish                        = false\n      \u001b[32m+\u001b[0m\u001b[0m qualified_arn                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m qualified_invoke_arn           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m region                         = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m reserved_concurrent_executions = -1\n      \u001b[32m+\u001b[0m\u001b[0m response_streaming_invoke_arn  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m role                           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m runtime                        = \"nodejs24.x\"\n      \u001b[32m+\u001b[0m\u001b[0m signing_job_arn                = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m signing_profile_version_arn    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m skip_destroy                   = false\n      \u001b[32m+\u001b[0m\u001b[0m source_code_hash               = \"XFSsPWNxmU8LUiofQVmvljvIxktb6M0fg1Hjpz6SuF0=\"\n      \u001b[32m+\u001b[0m\u001b[0m source_code_size               = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m tags_all                       = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m timeout                        = 3\n      \u001b[32m+\u001b[0m\u001b[0m version                        = (known after apply)\n    }\n\n\u001b[1mPlan:\u001b[0m 5 to add, 0 to change, 0 to destroy.\n\u001b[0m\nChanges to Outputs:\n  \u001b[32m+\u001b[0m\u001b[0m dynamodb_usersIds_arn = (known after apply)\n  \u001b[32m+\u001b[0m\u001b[0m lambda_processing_arn = (known after apply)\n\u001b[0m\u001b[1maws_iam_role.iam_for_lambda: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_dynamodb_table.dynamodb_table_users: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_iam_role.iam_for_lambda: Creation complete after 0s [id=iam_for_lambda]\u001b[0m\n\u001b[0m\u001b[1maws_lambda_function.lambda_dynamodb_stream_handler: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_dynamodb_table.dynamodb_table_users: Creation complete after 3s [id=UsersIds]\u001b[0m\n\u001b[0m\u001b[1maws_iam_role_policy.dynamodb_lambda_policy: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_iam_role_policy.dynamodb_lambda_policy: Creation complete after 0s [id=iam_for_lambda:lambda-dynamodb-policy]\u001b[0m\n\u001b[0m\u001b[1maws_lambda_function.lambda_dynamodb_stream_handler: Creation complete after 6s [id=process-usersids-records]\u001b[0m\n\u001b[0m\u001b[1maws_lambda_event_source_mapping.lambda_dynamodb: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_lambda_event_source_mapping.lambda_dynamodb: Creation complete after 0s [id=ef1ee733-b420-424b-91fc-80470adfc88f]\u001b[0m\n\u001b[0m\u001b[1m\u001b[32m\nApply complete! Resources: 5 added, 0 changed, 0 destroyed.\n\u001b[0m\u001b[0m\u001b[1m\u001b[32m\nOutputs:\n\n\u001b[0mdynamodb_usersIds_arn = \"arn:aws:dynamodb:us-east-1:000000000000:table/UsersIds\"\nlambda_processing_arn = \"arn:aws:lambda:us-east-1:000000000000:function:process-usersids-records\"\n"
  },
  "pytest_results": {
    "total": 0,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "output": "",
    "individual_tests": [],
    "operation_results": []
  },
  "container_logs": "",
  "error_message": null,
  "preprocessing_delta": {
    "removed_resources": [],
    "stub_info": {
      "files": [
        "src/index.js"
      ],
      "lambdas": [
        "lambda_dynamodb_stream_handler"
      ],
      "stub_types": {
        "src/index.js": "js"
      },
      "directories": [],
      "has_stubs": true,
      "stub_count": 1
    },
    "service_reconciliation": {
      "original_services": [
        "dynamodb",
        "iam",
        "lambda"
      ],
      "final_services": [
        "dynamodb",
        "iam",
        "lambda"
      ],
      "removed_services": [],
      "added_services": [],
      "warnings": [],
      "significant_change": false,
      "change_ratio": 0.0
    },
    "modified_files": [
      "main.tf"
    ],
    "generated_tfvars": {},
    "removed_backends": [],
    "removed_profiles": [],
    "provider_version_changes": [],
    "summary": {
      "resources_removed": 0,
      "stubs_created": 1,
      "files_modified": 1,
      "tfvars_generated": 0,
      "backends_removed": 0,
      "services_removed": 0,
      "has_significant_service_changes": false
    }
  },
  "resource_inventory": {
    "resources": [],
    "expected_resources": [
      "aws_dynamodb_table.dynamodb_table_users",
      "aws_lambda_function.lambda_dynamodb_stream_handler",
      "aws_lambda_event_source_mapping.lambda_dynamodb",
      "aws_iam_role.iam_for_lambda",
      "aws_iam_role_policy.dynamodb_lambda_policy"
    ],
    "missing_resources": [
      "aws_dynamodb_table.dynamodb_table_users",
      "aws_iam_role.iam_for_lambda",
      "aws_iam_role_policy.dynamodb_lambda_policy",
      "aws_lambda_event_source_mapping.lambda_dynamodb",
      "aws_lambda_function.lambda_dynamodb_stream_handler"
    ],
    "extra_resources": [],
    "verification_status": "failed",
    "verification_error": null,
    "resource_count": 0,
    "is_complete": false,
    "completeness_ratio": 0.0
  },
  "test_quality": null
}