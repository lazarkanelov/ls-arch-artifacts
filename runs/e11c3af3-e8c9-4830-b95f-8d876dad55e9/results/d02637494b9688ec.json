{
  "arch_hash": "d02637494b9688ec",
  "run_id": "e11c3af3-e8c9-4830-b95f-8d876dad55e9",
  "status": "PASSED",
  "started_at": "2026-01-15T15:14:56.823689",
  "completed_at": "2026-01-15T15:15:46.107511",
  "duration_seconds": 49.283824,
  "terraform_apply": {
    "success": true,
    "resources_created": 6,
    "outputs": {},
    "logs": "\u001b[0m\u001b[1mdata.archive_file.lambda_zip_file: Reading...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1mdata.archive_file.lambda_zip_file: Read complete after 0s [id=74356240e2aa7088b67521e31008fbacbb6b1f95]\u001b[0m\n\u001b[0m\u001b[1mdata.aws_iam_policy.lambda_basic_execution_role_policy: Reading...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1mdata.aws_iam_policy.lambda_basic_execution_role_policy: Read complete after 2s [id=arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole]\u001b[0m\n\nTerraform used the selected providers to generate the following execution\nplan. Resource actions are indicated with the following symbols:\n  \u001b[32m+\u001b[0m create\u001b[0m\n\nTerraform will perform the following actions:\n\n\u001b[1m  # aws_cloudwatch_event_rule.event_rule\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_cloudwatch_event_rule\" \"event_rule\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn            = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m event_bus_name = \"default\"\n      \u001b[32m+\u001b[0m\u001b[0m event_pattern  = jsonencode(\n            {\n              \u001b[32m+\u001b[0m\u001b[0m detail      = {\n                  \u001b[32m+\u001b[0m\u001b[0m location = [\n                      \u001b[32m+\u001b[0m\u001b[0m {\n                          \u001b[32m+\u001b[0m\u001b[0m prefix = \"EUR-\"\n                        },\n                    ]\n                }\n              \u001b[32m+\u001b[0m\u001b[0m detail-type = [\n                  \u001b[32m+\u001b[0m\u001b[0m \"transaction\",\n                ]\n              \u001b[32m+\u001b[0m\u001b[0m source      = [\n                  \u001b[32m+\u001b[0m\u001b[0m \"custom.myApp\",\n                ]\n            }\n        )\n      \u001b[32m+\u001b[0m\u001b[0m force_destroy  = false\n      \u001b[32m+\u001b[0m\u001b[0m id             = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m name           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m name_prefix    = \"eventbridge-lambda-\"\n      \u001b[32m+\u001b[0m\u001b[0m region         = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m tags_all       = (known after apply)\n    }\n\n\u001b[1m  # aws_cloudwatch_event_target.target_lambda_function\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_cloudwatch_event_target\" \"target_lambda_function\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn            = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m event_bus_name = \"default\"\n      \u001b[32m+\u001b[0m\u001b[0m force_destroy  = false\n      \u001b[32m+\u001b[0m\u001b[0m id             = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m region         = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m rule           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m target_id      = (known after apply)\n    }\n\n\u001b[1m  # aws_iam_role.lambda_iam_role\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_iam_role\" \"lambda_iam_role\" {\n      \u001b[32m+\u001b[0m\u001b[0m arn                   = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m assume_role_policy    = jsonencode(\n            {\n              \u001b[32m+\u001b[0m\u001b[0m Statement = [\n                  \u001b[32m+\u001b[0m\u001b[0m {\n                      \u001b[32m+\u001b[0m\u001b[0m Action    = \"sts:AssumeRole\"\n                      \u001b[32m+\u001b[0m\u001b[0m Effect    = \"Allow\"\n                      \u001b[32m+\u001b[0m\u001b[0m Principal = {\n                          \u001b[32m+\u001b[0m\u001b[0m Service = \"lambda.amazonaws.com\"\n                        }\n                      \u001b[32m+\u001b[0m\u001b[0m Sid       = \"\"\n                    },\n                ]\n              \u001b[32m+\u001b[0m\u001b[0m Version   = \"2012-10-17\"\n            }\n        )\n      \u001b[32m+\u001b[0m\u001b[0m create_date           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m force_detach_policies = false\n      \u001b[32m+\u001b[0m\u001b[0m id                    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m managed_policy_arns   = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m max_session_duration  = 3600\n      \u001b[32m+\u001b[0m\u001b[0m name                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m name_prefix           = \"EventBridgeLambdaRole-\"\n      \u001b[32m+\u001b[0m\u001b[0m path                  = \"/\"\n      \u001b[32m+\u001b[0m\u001b[0m tags_all              = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m unique_id             = (known after apply)\n    }\n\n\u001b[1m  # aws_iam_role_policy_attachment.lambda_basic_execution\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_iam_role_policy_attachment\" \"lambda_basic_execution\" {\n      \u001b[32m+\u001b[0m\u001b[0m id         = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m policy_arn = \"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole\"\n      \u001b[32m+\u001b[0m\u001b[0m role       = (known after apply)\n    }\n\n\u001b[1m  # aws_lambda_function.lambda_function\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_lambda_function\" \"lambda_function\" {\n      \u001b[32m+\u001b[0m\u001b[0m architectures                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m arn                            = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m code_sha256                    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m filename                       = \"./lambda.zip\"\n      \u001b[32m+\u001b[0m\u001b[0m function_name                  = \"ConsumerFunction\"\n      \u001b[32m+\u001b[0m\u001b[0m handler                        = \"app.handler\"\n      \u001b[32m+\u001b[0m\u001b[0m id                             = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m invoke_arn                     = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m last_modified                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m memory_size                    = 128\n      \u001b[32m+\u001b[0m\u001b[0m package_type                   = \"Zip\"\n      \u001b[32m+\u001b[0m\u001b[0m publish                        = false\n      \u001b[32m+\u001b[0m\u001b[0m qualified_arn                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m qualified_invoke_arn           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m region                         = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m reserved_concurrent_executions = -1\n      \u001b[32m+\u001b[0m\u001b[0m response_streaming_invoke_arn  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m role                           = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m runtime                        = \"nodejs24.x\"\n      \u001b[32m+\u001b[0m\u001b[0m signing_job_arn                = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m signing_profile_version_arn    = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m skip_destroy                   = false\n      \u001b[32m+\u001b[0m\u001b[0m source_code_hash               = \"6fUG2MgdnDnJcHpGL3PWGVn+aMAP62dYzodTBT/nK4E=\"\n      \u001b[32m+\u001b[0m\u001b[0m source_code_size               = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m tags_all                       = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m timeout                        = 3\n      \u001b[32m+\u001b[0m\u001b[0m version                        = (known after apply)\n    }\n\n\u001b[1m  # aws_lambda_permission.allow_cloudwatch\u001b[0m will be created\n\u001b[0m  \u001b[32m+\u001b[0m\u001b[0m resource \"aws_lambda_permission\" \"allow_cloudwatch\" {\n      \u001b[32m+\u001b[0m\u001b[0m action              = \"lambda:InvokeFunction\"\n      \u001b[32m+\u001b[0m\u001b[0m function_name       = \"ConsumerFunction\"\n      \u001b[32m+\u001b[0m\u001b[0m id                  = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m principal           = \"events.amazonaws.com\"\n      \u001b[32m+\u001b[0m\u001b[0m region              = \"us-east-1\"\n      \u001b[32m+\u001b[0m\u001b[0m source_arn          = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m statement_id        = (known after apply)\n      \u001b[32m+\u001b[0m\u001b[0m statement_id_prefix = (known after apply)\n    }\n\n\u001b[1mPlan:\u001b[0m 6 to add, 0 to change, 0 to destroy.\n\u001b[0m\nChanges to Outputs:\n  \u001b[32m+\u001b[0m\u001b[0m ConsumerFunction = (known after apply)\n\u001b[0m\u001b[1maws_cloudwatch_event_rule.event_rule: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_iam_role.lambda_iam_role: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_iam_role.lambda_iam_role: Creation complete after 0s [id=EventBridgeLambdaRole-20260115151514807100000002]\u001b[0m\n\u001b[0m\u001b[1maws_iam_role_policy_attachment.lambda_basic_execution: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_lambda_function.lambda_function: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_iam_role_policy_attachment.lambda_basic_execution: Creation complete after 0s [id=EventBridgeLambdaRole-20260115151514807100000002/arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole]\u001b[0m\n\u001b[0m\u001b[1maws_cloudwatch_event_rule.event_rule: Creation complete after 0s [id=eventbridge-lambda-20260115151514806600000001]\u001b[0m\n\u001b[0m\u001b[1maws_lambda_function.lambda_function: Still creating... [10s elapsed]\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_lambda_function.lambda_function: Creation complete after 12s [id=ConsumerFunction]\u001b[0m\n\u001b[0m\u001b[1maws_lambda_permission.allow_cloudwatch: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_cloudwatch_event_target.target_lambda_function: Creating...\u001b[0m\u001b[0m\n\u001b[0m\u001b[1maws_lambda_permission.allow_cloudwatch: Creation complete after 0s [id=terraform-20260115151527441300000003]\u001b[0m\n\u001b[0m\u001b[1maws_cloudwatch_event_target.target_lambda_function: Creation complete after 0s [id=eventbridge-lambda-20260115151514806600000001-terraform-20260115151527445200000004]\u001b[0m\n\u001b[0m\u001b[1m\u001b[32m\nApply complete! Resources: 6 added, 0 changed, 0 destroyed.\n\u001b[0m\u001b[0m\u001b[1m\u001b[32m\nOutputs:\n\n\u001b[0mConsumerFunction = \"arn:aws:lambda:us-east-1:000000000000:function:ConsumerFunction\"\n"
  },
  "pytest_results": {
    "total": 0,
    "passed": 0,
    "failed": 0,
    "skipped": 0,
    "output": "",
    "individual_tests": [],
    "operation_results": []
  },
  "container_logs": "",
  "error_message": null,
  "preprocessing_delta": {
    "removed_resources": [],
    "stub_info": {
      "files": [
        "src/app.js"
      ],
      "lambdas": [
        "lambda_function"
      ],
      "stub_types": {
        "src/app.js": "js"
      },
      "directories": [],
      "has_stubs": true,
      "stub_count": 1
    },
    "service_reconciliation": {
      "original_services": [
        "cloudwatch",
        "iam",
        "lambda"
      ],
      "final_services": [
        "cloudwatch",
        "iam",
        "lambda"
      ],
      "removed_services": [],
      "added_services": [],
      "warnings": [],
      "significant_change": false,
      "change_ratio": 0.0
    },
    "modified_files": [
      "main.tf"
    ],
    "generated_tfvars": {},
    "removed_backends": [],
    "removed_profiles": [],
    "provider_version_changes": [],
    "summary": {
      "resources_removed": 0,
      "stubs_created": 1,
      "files_modified": 1,
      "tfvars_generated": 0,
      "backends_removed": 0,
      "services_removed": 0,
      "has_significant_service_changes": false
    }
  },
  "resource_inventory": {
    "resources": [],
    "expected_resources": [
      "aws_lambda_function.lambda_function",
      "aws_iam_role.lambda_iam_role",
      "aws_iam_role_policy_attachment.lambda_basic_execution",
      "aws_cloudwatch_event_rule.event_rule",
      "aws_cloudwatch_event_target.target_lambda_function",
      "aws_lambda_permission.allow_cloudwatch"
    ],
    "missing_resources": [
      "aws_cloudwatch_event_rule.event_rule",
      "aws_cloudwatch_event_target.target_lambda_function",
      "aws_iam_role.lambda_iam_role",
      "aws_iam_role_policy_attachment.lambda_basic_execution",
      "aws_lambda_function.lambda_function",
      "aws_lambda_permission.allow_cloudwatch"
    ],
    "extra_resources": [],
    "verification_status": "failed",
    "verification_error": null,
    "resource_count": 0,
    "is_complete": false,
    "completeness_ratio": 0.0
  },
  "test_quality": null
}